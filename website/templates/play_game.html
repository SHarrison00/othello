{% extends "base.html" %}

{% block title %}Play Game - My Website{% endblock %}

{% block content %}
  <h1>Play Game</h1>

  <table class="game-board">
    <tbody>
      {% for row in range(8) %}
        <tr>
          {% for col in range(8) %}
            {% set cell = game.board.state[row][col] %}
            <td class="cell">
              {% if cell.name == "BLACK" %}
                <div class="black-disc"></div>
              {% elif cell.name == "WHITE" %}
                <div class="white-disc"></div>
              {% elif cell.name == "VALID" %}
                <div class="grey-disc" data-row="{{ row }}" data-col="{{ col }}"></div>
              {% endif %}
            </td>
          {% endfor %}
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <script>
    // Add event listener to valid cells
    const validCells = document.querySelectorAll('.grey-disc');
    validCells.forEach(cell => {
      cell.addEventListener('click', handleClick);
    });

    // Click event handler
    function handleClick(event) {
      const row = parseInt(event.target.dataset.row);
      const col = parseInt(event.target.dataset.col);
      console.log('Clicked valid cell at (row, col): (',row,',',col,')');
    }
  </script>

{% endblock %}
